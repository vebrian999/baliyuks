<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="assets/app.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js"></script>
    <script src="https://assets.codepen.io/16327/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@latest/bundled/lenis.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
  </head>
  <body>
    <div class="jumlah-ragam-bali1">
      <div class="jumlah-ragam-bali">
        <h1 class="judul-bali-kanan">Jumlah Ragam di Bali</h1>
        <div class="ragam-bali wrap">
          <div class="item-circle">
            <div class="circle">
              <img src="assets/img/jumlah-populasi.png" alt="" />
            </div>
            <div>
              <h1>Jumlah populasi di bali</h1>
            </div>
            <div class="button-jumlah-bali">
              <a class="btn popup-btn" href="#" data-target="populasi">populasi</a>
            </div>
          </div>
          <div class="item-circle">
            <div class="circle">
              <img src="assets/img/jumlah-suku.png" alt="" />
            </div>
            <div>
              <h1>Jumlah suku di pulau bali</h1>
            </div>
            <div class="button-jumlah-bali">
              <a class="btn popup-btn" href="#" data-target="suku">suku</a>
            </div>
          </div>
          <div class="item-circle">
            <div class="circle">
              <img src="assets/img/jumlah-agama-apa-aja.png" alt="" />
            </div>
            <div>
              <h1>Jumlah agama di bali</h1>
            </div>
            <div class="button-jumlah-bali">
              <a class="btn popup-btn" href="#" data-target="agama">agama</a>
            </div>
          </div>

          <div class="popup-wrap populasi-wrap">
            <div class="popup-box populasi-box">
              <h2 class="judul-popup">Jumlah populasi di Bali</h2>
              <p class="text-popup">Sekadar info populasi Bali, lihat grafik di bawah. Memperlihatkan pembagian laki-laki dan perempuan, gambaran demografi pulau ini.</p>
              <p style="color: black" id="total-population-populasi"></p>
              <div>
                <a href="#" class="fa fa-male"></a>
                <a href="#" class="fa fa-female"></a>
              </div>
              <canvas id="chart-populasi" style="width: 100%; max-width: 700px"></canvas>
              <a class="close-btn popup-close" href="#">x</a>
            </div>
          </div>

          <div class="popup-wrap suku-wrap">
            <div class="popup-box suku-box">
              <h2 class="judul-popup">Jumlah suku di Bali</h2>
              <p class="text-popup">Sekadar informasi tentang jumlah suku yang tinggal di Pulau Bali, berikut adalah grafik yang menampilkan distribusi suku-suku tersebut..</p>
              <p style="color: black" id="total-population-suku"></p>
              <canvas id="chart-suku" style="width: 100%; max-width: 700px"></canvas>
              <a class="close-btn popup-close" href="#">x</a>
            </div>
          </div>

          <div class="popup-wrap agama-wrap">
            <div class="popup-box agama-box">
              <h2 class="judul-popup">Jumlah agama di Bali</h2>
              <p class="text-popup">Berikut adalah grafik yang menunjukkan distribusi jumlah pemeluk agama di Pulau Bali.</p>
              <p style="color: black" id="total-population-agama"></p>
              <canvas id="chart-agama" style="width: 100%; max-width: 700px"></canvas>
              <a class="close-btn popup-close" href="#">x</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <script>
      $(document).ready(function () {
        $(".popup-btn").click(function (e) {
          var target = $(this).attr("data-target");
          $("." + target + "-wrap").fadeIn(500);
          $("." + target + "-box")
            .removeClass("transform-out")
            .addClass("transform-in");
          e.preventDefault();
        });

        $(".popup-close").click(function (e) {
          $(".popup-wrap").fadeOut(500);
          $(".popup-box").removeClass("transform-in").addClass("transform-out");
          e.preventDefault();
        });

        // Data untuk grafik
        // Data untuk populasi
        const populasiData = {
          labels: ["Laki-laki", "Perempuan"],
          datasets: [
            {
              label: "# of Votes",
              data: [2.222, 2.211],
              backgroundColor: ["rgba(54, 162, 235, 0.2)", "rgba(255, 99, 132, 0.2)"],
              borderColor: ["rgba(54, 162, 235, 1)", "rgba(255, 99, 132, 1)"],
              borderWidth: 1,
            },
          ],
        };

        // Opsi untuk populasi
        const options = {
          scales: {
            yAxes: [
              {
                ticks: {
                  beginAtZero: true,
                },
              },
            ],
          },
        };

        // Inisialisasi grafik populasi
        const chartPopulasi = new Chart("chart-populasi", {
          type: "pie",
          data: populasiData,
          options: options,
        });

        // Menghitung total populasi populasi
        const totalPopulationPopulasi = populasiData.datasets[0].data.reduce((a, b) => a + b, 0);
        $("#total-population-populasi").text("Total Populasi: " + totalPopulationPopulasi.toLocaleString());

        // Data untuk suku
        const sukuData = {
          labels: ["Suku Bali", "Suku Bali Aga", "Suku Nyama Selam", "Suku Bali Majapahit", "Suku Sasak"],
          datasets: [
            {
              label: "# of Votes",
              data: [1, 1, 1, 1, 1],
              backgroundColor: ["rgba(255, 206, 86, 0.2)", "rgba(54, 162, 235, 0.2)", "rgba(255, 99, 132, 0.2)", "rgba(75, 192, 192, 0.2)", "rgba(153, 102, 255, 0.2)"],
              borderColor: ["rgba(255, 206, 86, 1)", "rgba(54, 162, 235, 1)", "rgba(255, 99, 132, 1)", "rgba(75, 192, 192, 1)", "rgba(153, 102, 255, 1)"],
              borderWidth: 1,
            },
          ],
        };

        // Inisialisasi grafik suku
        const chartSuku = new Chart("chart-suku", {
          type: "pie",
          data: sukuData,
          options: options,
        });

        // Menghitung total populasi suku
        const totalPopulationSuku = sukuData.datasets[0].data.reduce((a, b) => a + b, 0);
        $("#total-population-suku").text("Total Suku yang saya tahu: " + totalPopulationSuku.toLocaleString());

        // Data untuk agama
        const agamaData = {
          labels: ["Hindu", "Islam", "Kristen", "Buddha", "Konghucu"], // Menghapus koma yang berlebihan pada label Kristen
          datasets: [
            {
              label: "# of Votes",
              data: [86.59, 10.16, 2.55, 0.68, 0.02],
              backgroundColor: ["rgba(255, 99, 132, 0.2)", "rgba(0, 255, 0, 0.2)", "rgba(54, 162, 235, 0.2)", "rgba(255, 255, 0, 0.2)", "rgba(255, 206, 86, 0.2)"],
              borderColor: ["rgba(255, 99, 132, 1)", "rgba(255, 206, 86, 1)", "rgba(54, 162, 235, 1)", "rgba(75, 192, 192, 1)", "rgba(255, 255, 0, 1)", "rgba(0, 255, 0, 1)"],
              borderWidth: 1,
            },
          ],
        };
        // Inisialisasi grafik agama
        const chartAgama = new Chart("chart-agama", {
          type: "pie",
          data: agamaData,
          options: options,
        });

        // Menghitung total populasi agama
        const totalPopulationAgama = agamaData.datasets[0].data.reduce((a, b) => a + b, 0);
        const totalPopulationPercent = totalPopulationAgama.toFixed(2) + "%";
        $("#total-population-agama").text("Total: " + totalPopulationPercent);
      });
    </script>
  </body>
</html>



        <!-- <article>
          <div class="smooth-scroll">
            <div class="hero-scroller">
              <div class="sejarah-agama">
                <div class="section-wrapper">
                  <div class="content-sa">
                    <h1 class="hero-header h-1">the great</h1>
                    <h1 class="hero-header h-2">outdoors</h1>
                    <h1 class="hero-header h-3">volume</h1>
                  </div>
                  <div class="pin-wrapper">
                    <div class="image-wrapper" id="heroImage">
                      <img class="sa-image" src="https://images.unsplash.com/photo-1653919450772-489831a08403?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2787&q=80" />
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="sejarah-agama copy">
              <div class="section-wrapper">
                <div class="content-sa">
                  <p class="">
                    It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as
                    opposed to using 'Content here, content here', making it look like readable English.
                  </p>
                </div>
              </div>
            </div>
          </div>

          <script src="https://unpkg.co/gsap@3/dist/gsap.min.js"></script>
          <script src="https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.min.js"></script>
          <script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>
          <script>
            gsap.registerPlugin(ScrollTrigger);

            const locoScroll = new LocomotiveScroll({
              el: document.querySelector(".smooth-scroll"),
              smooth: true,
              lerp: 0.08,
            });

            locoScroll.on("scroll", ScrollTrigger.update);

            ScrollTrigger.scrollerProxy(".smooth-scroll", {
              scrollTop(value) {
                return arguments.length ? locoScroll.scrollTo(value, 0, 0) : locoScroll.scroll.instance.scroll.y;
              },
              getBoundingClientRect() {
                return {
                  top: 0,
                  left: 0,
                  width: window.innerWidth,
                  height: window.innerHeight,
                };
              },
              pinType: document.querySelector(".smooth-scroll").style.transform ? "transform" : "fixed",
            });

            const vw = (coef) => window.innerWidth * (coef / 100);
            const vh = (coef) => window.innerHeight * (coef / 100);

            const heroScroller = gsap.timeline({
              paused: true,
              scrollTrigger: {
                trigger: ".hero-header.h-1",
                scroller: ".smooth-scroll",
                pin: ".pin-wrapper",
                start: "top 10%",
                scrub: true,
                end: `${vh(100)}`,
              },
            });

            heroScroller
              .to(
                [".hero-header.h-1", ".hero-header.h-3"],
                {
                  scale: 2,
                  y: vh(150),
                  xPercent: -150,
                },
                "heroScroll"
              )
              .to(
                ".hero-header.h-2",
                {
                  scale: 2,
                  y: vh(150),
                  xPercent: 150,
                },
                "heroScroll"
              )
              .to(
                "#heroImage",
                {
                  scaleY: 2.5,
                },
                "heroScroll"
              )
              .to(
                "#heroImage .sa-image",
                {
                  scaleX: 2.5,
                  xPercent: 50,
                },
                "heroScroll"
              );

            ScrollTrigger.addEventListener("refresh", () => locoScroll.update());
            ScrollTrigger.refresh();
          </script>
        </article> -->